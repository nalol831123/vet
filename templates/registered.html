
<!DOCTYPE html>
{% extends "index.html" %}
{% load static %}
{% block body_block %}
<link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<link href="https://code.jquery.com/ui/1.12.1/themes/hot-sneaks/jquery-ui.css" rel="stylesheet">
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>

<h4>Table 名稱</h4>
<form action="" method="POST">
    {% csrf_token %}
    <div class="form-row">
      <div class="form-group col-md-4">
        <label>{{ Registerform.ID.label }}</label>
        {{ Registerform.ID }}
    </div>
    <div class="form-group col-md-4">
        <label>{{ Registerform.Animal.label }}</label>
        {{ Registerform.Animal }}
    </div>
    <div class="form-group col-md-4">
        <label>{{ Registerform.Species.label }}</label>
        {{ Registerform.Species }}
    </div>
    <div class="form-group col-md-4">
        <label>{{ Registerform.Sex.label }}</label>
        {{ Registerform.Sex }}
    </div>
    <div class="form-group col-md-4">
        <label>{{ Registerform.Neuter.label }}</label>
        {{ Registerform.Neuter }}
    </div>
    <div class="form-group col-md-4">
        <label>{{ Registerform.Age.label }}</label>
        {{ Registerform.Age }}
    </div>
    <div class="form-group col-md-4">
        <label>{{ Registerform.Name.label }}</label>
        {{ Registerform.Name }}
    </div>
    <div class="form-group col-md-4">
        <label>{{ Registerform.Phone.label }}</label>
        {{ Registerform.Phone }}
    </div>
    <div class="form-group col-md-4">
        <label>{{ Registerform.Addr.label }}</label>
        {{ Registerform.Addr }}
    </div>
    <div class="form-group col-md-4">
        <label>{{ Registerform.Doctor.label }}</label>
        {{ Registerform.Doctor }}
    </div>
        <div class="form-group col-md-2">
            <input type="submit" class="btn btn-secondary" style="margin-top:30px;" value="儲存">
        </div>
    </div>
</form>

<table class="table table-bordered table-striped">
  <thead class="thead-dark">
<tr>
  <th scope="col">Number</th>
  <th scope="col">Animal</th>
  <th scope="col">Name</th>
  <th scope="col">Phone</th>
  <th scope="col">ID</th>
  <th scope="col">Doctor</th>
  <th scope="col">UpdateTime</th>
</tr>
  </thead>
  <tbody>
    {% for data in today %}
    <tr>
        <td>{{ data.Number }}</td>
        <td>{{ data.Animal }}</td>
        <td>{{ data.Name }}</td>
        <td>{{ data.Phone }}</td>
        <td>{{ data.ID }}</td>
        <td>{{ data.Doctor }}</td>
        <td>{{ data.UpdateTime }}</td>
        <td>
          <a href="#" class="btn btn-dark">修改</a>
          <a href="#" class="btn btn-danger">刪除</a>
        </td>
    </tr>
    {% endfor %}
</tbody>
</table>

<script>

  $(function() {
      $("#ID").autocomplete({
      source: "{% url 'registered' %}",
      minLength: 1,
      select: function( event, ui ) {
          $("#Animal").val(ui.item.Animal);
          $("#Species").val(ui.item.Species);
          $("#Sex").val(ui.item.Sex);
          $("#Neuter").val(ui.item.Neuter);
          $("#Age").val(ui.item.Age);
          $("#Name").val(ui.item.Name);
          $("#Phone").val(ui.item.Phone);
          $("#Addr").val(ui.item.Addr);
          $("#Doctor").val(ui.item.Doctor);
          },
      });
  });
  
</script>

{% endblock %}
